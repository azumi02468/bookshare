<% include header %>
<h1>本棚を整理</h1>
<p><%= message %></p>
<div class="table-responsive" ng-controller="UpdateCtrl" ng-init="pager(0)">
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>No.</th>
                <th>ISBN</th>
                <th>書籍名</th>
                <th>著者</th>
                <th>出版社</th>
                <th>発売日</th>
                <th>価格</th>
                <th>表示モード</th>
                <th>冊数</th>
                <th>備考</th>
                <th>更新</th>
                <th>削除</th>
            </tr>
        </thead>
        <tbody>
            <% for (var i=0; i<data.length; i++) { %>
            <tr ng-show="show(<%= i %>)">
                <td><%= i + 1 %></td>
                <td><%= data[i].isbn %></td>
                <td><%= data[i].title %></td>
                <td><%= data[i].author %></td>
                <td><%= data[i].publisherName %></td>
                <td><%= data[i].salesDate %></td>
                <td><%= data[i].itemPrice %></td>
                <td><%= data[i].disp_mode %></td>
                <td><%= data[i].count %></td>
                <td><%= data[i].remark %></td>
                <td><a href="#update<%= i %>" class="btn btn-info" data-toggle="modal" data-target="#update<%= i %>" ng-click="click(<%= JSON.stringify(data[i]) %>)">更新</a></td>
                <td><a href="#delete<%= i %>" class="btn btn-info" data-toggle="modal" data-target="#delete<%= i %>">削除</a></td>
            </tr>
            <% } %>
        </tbody>
    </table>
    <% for (var i=0; i<data.length; i++) { %>
        <% include mp_up_book %>
        <% include mp_del_book %>
    <% } %>
    <ul class="pagination">
        <% for (var j=0; j<data.length/10; j++) { %>
            <li><a href="#" ng-click="pager(<%= j %>)"><%= j+1 %></a></li>
        <% } %>
    </ul>
</div>
<a href="/top" class="btn btn-default">TOPへ戻る</a>
<% include footer %>